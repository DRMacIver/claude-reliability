{"id":"claude-reliability-0ue","title":"Stop hook message has incorrect numbering (1, 3, 4 - missing step 2)","status":"closed","priority":2,"issue_type":"bug","owner":"david@drmaciver.com","created_at":"2026-01-20T12:03:02.712947885Z","created_by":"David R. MacIver","updated_at":"2026-01-20T14:30:11.730878125Z","closed_at":"2026-01-20T14:30:11.730878125Z","close_reason":"Closed"}
{"id":"claude-reliability-598","title":"Block JKW mode exit if outstanding beads issues exist","status":"closed","priority":2,"issue_type":"feature","owner":"david@drmaciver.com","created_at":"2026-01-20T22:39:15.546341258Z","created_by":"David R. MacIver","updated_at":"2026-01-20T22:48:46.933131092Z","closed_at":"2026-01-20T22:48:46.933131092Z","close_reason":"Closed"}
{"id":"claude-reliability-7b0","title":"Investigate missing reflection prompt before stop","description":"When Claude stopped working on a task without completing the user's request (wrote tests but didn't run them to generate real transcripts, tried to manually write transcript.jsonl files instead), the stop hook allowed the exit after the uncommitted changes were committed. There should have been a reflection prompt asking 'Have you actually done what the user asked?' but it did not appear. Need to investigate why this prompt didn't fire or if it needs to be more prominent.","notes":"Analysis: Reflection check (line 273) runs AFTER git checks. When Claude commits AND pushes in one command, the hook goes from 'uncommitted' to 'clean' without a stop in between. Reflection uses current git state which is now false. FIX: Track 'had_changes_this_session' flag when blocking on uncommitted changes.","status":"closed","priority":1,"issue_type":"bug","owner":"david@drmaciver.com","created_at":"2026-01-20T09:54:20.506855639Z","created_by":"David R. MacIver","updated_at":"2026-01-20T14:18:29.902518008Z","closed_at":"2026-01-20T14:18:29.902518008Z","close_reason":"Fixed: Added 'had_uncommitted_changes' marker to track when we blocked on uncommitted changes. Reflection now uses this marker instead of only checking current git state, ensuring reflection runs even if Claude commits+pushes in one command."}
{"id":"claude-reliability-99v","title":"Refactor main.rs to be thin wrapper (currently 167 lines, max 50)","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-19T14:04:00.328448Z","created_by":"drmaciver","updated_at":"2026-01-20T14:14:20.606532421Z","closed_at":"2026-01-20T14:14:20.606532421Z","close_reason":"Already fixed - main.rs is 27 lines (under 50 line limit)"}
{"id":"claude-reliability-9w1","title":"Add startup message explaining claude-reliability mode","status":"closed","priority":2,"issue_type":"feature","owner":"david@drmaciver.com","created_at":"2026-01-20T22:40:14.965976132Z","created_by":"David R. MacIver","updated_at":"2026-01-20T22:54:19.781966135Z","closed_at":"2026-01-20T22:54:19.781966135Z","close_reason":"Closed"}
{"id":"claude-reliability-cxi","title":"Stop hook shows push instruction when repo has no remote (require_push should be false)","status":"closed","priority":2,"issue_type":"bug","owner":"david@drmaciver.com","created_at":"2026-01-20T12:03:08.167038388Z","created_by":"David R. MacIver","updated_at":"2026-01-20T14:30:16.913349335Z","closed_at":"2026-01-20T14:30:16.913349335Z","close_reason":"Closed"}
{"id":"claude-reliability-i6d","title":"Create comprehensive snapshot tests for all stop hook states","description":"Update state diagram and create snapshot tests to trigger each state. May need claude wrapper for subagent prompts.\n\n## Progress\n\n### Completed\n- Updated docs/stop-hook-states.dot with new simple reflection system\n- Created 4 snapshot test stubs:\n  - stop-hook-fast-path-clean\n  - stop-hook-uncommitted-changes\n  - stop-hook-reflection-first-stop\n  - stop-hook-reflection-second-stop\n\n### Remaining\n- Record transcripts for each test using `--mode=record`\n- Add more test scenarios:\n  - exit-phrase-no-issues\n  - exit-phrase-with-issues\n  - problem-phrase-entry\n  - problem-mode-exit\n  - jkw-work-remains\n  - jkw-all-done\n  - jkw-staleness\n  - validation-failed\n  - unpushed-commits\n  - api-error-loop\n- Some tests (sub-agent decisions, api errors) may need special handling","status":"open","priority":2,"issue_type":"feature","owner":"david@drmaciver.com","created_at":"2026-01-20T22:42:00.336404834Z","created_by":"David R. MacIver","updated_at":"2026-01-20T22:59:35.418813544Z"}
{"id":"claude-reliability-q1n","title":"Stop hooks not running in snapshot test --print mode","status":"closed","priority":1,"issue_type":"bug","owner":"david@drmaciver.com","created_at":"2026-01-20T11:39:24.562969048Z","created_by":"David R. MacIver","updated_at":"2026-01-20T12:00:14.90913646Z","closed_at":"2026-01-20T12:00:14.90913646Z","close_reason":"Closed"}
